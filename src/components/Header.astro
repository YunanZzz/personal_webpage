---
import Container from "@components/Container.astro";
import Link from "@components/Link.astro";

const pathname = Astro.url.pathname;

const navItems = [
  { href: "/#about", label: "about" },
  { href: "/#news", label: "news" },
  { href: "/#research", label: "research" },
  { href: "/#publications", label: "publications" },
  { href: "/cv", label: "cv" },
];

const isActive = (href: string) => {
  if (href.includes("#")) return false;
  const [pathOnly] = href.split("#");
  return pathname === pathOnly || (pathOnly !== "/" && pathname.startsWith(`${pathOnly}/`));
};
---

<header transition:persist>
  <Container wide={true}>
    <nav class="flex items-center justify-center gap-4 py-1 text-sm md:gap-7">
      {
        navItems.map((item) => (
          <Link href={item.href} underline={false}>
            <span
              class:list={[
                "font-mono lowercase tracking-wide transition-colors duration-200",
                isActive(item.href)
                  ? "font-bold text-black dark:text-white"
                  : "text-neutral-600 hover:text-black dark:text-neutral-300 dark:hover:text-white",
              ]}
            >
              {item.label}
            </span>
          </Link>
        ))
      }
    </nav>
  </Container>
</header>
